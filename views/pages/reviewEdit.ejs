<%- include('../partials/header') %>
<link href="/node_modules/star-rating.js/dist/star-rating.css" rel="stylesheet">

<body style="background-color: #f8f8f8;">
    <div class="container-lg mt-5 mb-5 p-auto">
        <div>
            <h1>ให้คะแนนออเดอร์ #<%= products[0].order_id  %></h1>
            <ol class="breadcrumb bg-light">
                <li class="breadcrumb-item"><a href="/">หน้าแรก</a></li>
                <li class="breadcrumb-item active" aria-current="page"><%= currentMenu %></li>
            </ol>
        </div>
        <form action="/postReviews/<%= products[0].order_id %>" method="post">
            <% products.forEach((product, index) => { %>
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-2 p-0 border rounded-2">
                            <img src="<%= product.picture %>" alt="" class="object-cover w-100 h-100" draggable="false">
                        </div>
                        <div class="col-5">
                            <h4><%= product.productName %></h4>
                            <select class="star-rating" name="rating[<%= index %>]">
                                <option value="">เลือกคะแนน</option>
                                <option value="5">ดีมาก</option>
                                <option value="4">ดี</option>
                                <option value="3">พอใช้</option>
                                <option value="2">แย่</option>
                                <option value="1">แย่มาก</option>
                            </select>
                            <div class="form-outline mt-3 w-100">
                                <textarea class="form-control w-100" name="detail[<%= index %>]" id="textAreaExample"
                                    rows="5" data-mdb-showcounter="true" maxlength="80"></textarea>
                                <label class="form-label" for="textAreaExample">ข้อความ</label>
                                <div class="form-helper"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% }) %>
            <button class="btn btn-primary">
                ยืนยัน
            </button>
        </form>
    </div>
</body>
<script src="/node_modules//star-rating.js/dist/star-rating.min.js"></script>
<script>
    var stars = new StarRating('.star-rating');

    document.querySelectorAll('.form-outline').forEach((formOutline) => {
        new mdb.Input(formOutline).init();
    });
</script>